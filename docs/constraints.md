# db_constraints.constraints

Generated by Ddoc from source/db_constraints/constraints.d

User-defined attributes that can be used with the KeyedItem mixin.

**License:**
[GPL-2.0](https://github.com/marmy28/db_constraints/blob/master/LICENSE)


**Authors:**
Matthew Armbruster


 **Source:**
 [source/db_constraints/constraints.d](https://github.com/marmy28/db_constraints/tree/master/source/db_constraints/constraints.d)


***
```d
struct UniqueConstraintColumn(string name_);

```

KeyedItem will create a struct with *name* defined in the compile-time argument.
For example a property marked with @UniqueColumn!("uc_Person") will
be part of the struct uc_Person.

Parameters |
---|
*name_*|
&nbsp;&nbsp;&nbsp;&nbsp;The name of the constraint which is the structs name.|



***
```d
alias PrimaryKeyColumn = UniqueConstraintColumn!"PrimaryKey".UniqueConstraintColumn;

```

An alias for the primary key column. A member with this attribute
must also have the NotNull attribute.


***
```d
struct CheckConstraint(alias check_, string name_ = "") if (is(typeof(unaryFun!check_)));

```

KeyedItem.checkConstraints will check all of the members marked
with this attribute and use the check given.

Parameters |
---|
*check_*|
&nbsp;&nbsp;&nbsp;&nbsp;The function that returns a boolean.|
*name_*|
&nbsp;&nbsp;&nbsp;&nbsp;Name used in the error message if the function returns false.|



***
```d
alias NotNull = CheckConstraint!(function bool(auto a)
{
static if (__traits(hasMember, typeof(a), "isNull"))
{
return !a.isNull;
}
else
{
static if (__traits(compiles, (typeof(a)).init == null))
{
return a !is null;
}
else
{
return true;
}
}
}
, "NotNull").CheckConstraint;

```

Alias for a special check constraint that makes sure the column is never null.
This is checked the same time as all the other check constraints. The name of
the constraint is NotNull in the error messages if this is ever violated.


***
```d
enum Rule: int;

```

***
```d
noAction
```

When a parent key is modified or deleted from the collection, no special action is taken.
If you are using MySQL or MSSQL use Rule.restrict instead for the desired
effect.


***
```d
restrict
```

The item is prohibited from deleting or modifying a parent key when there exists
one or more child keys mapped to it.

:exclamation: **Throws:**
ForeignKeyException when a member changes.


***
```d
setNull
```

Sets the member to null when deleting or modifying a parent key.

:exclamation: **Throws:**
ForeignKeyException when the type cannot be set to null.


***
```d
setDefault
```

Sets the member to the types initial value when deleting or modifying a parent key.

:bug: BUGS:
Currently can only set to the initial value.


***
```d
cascade
```

Updates or deletes the item based on what happened to the parent key.




***
```d
template ForeignKeyConstraint(string name_, string[] columnNames_, string referencedTableName_, string[] referencedColumnNames_, Rule updateRule_, Rule deleteRule_)
template ForeignKeyConstraint(string name_, string[] columnNames_, string referencedTableName_, string[] referencedColumnNames_)
template ForeignKeyConstraint(string[] columnNames_, string referencedTableName_, string[] referencedColumnNames_, Rule updateRule_, Rule deleteRule_)
template ForeignKeyConstraint(string[] columnNames_, string referencedTableName_, string[] referencedColumnNames_)
```

The foreign key user-defined attribute. Currently under :construction:

Parameters |
---|
*name_*|
&nbsp;&nbsp;&nbsp;&nbsp;The name of the foreign key constraint. Will be used in error message when violated|
*columnNames_*|
&nbsp;&nbsp;&nbsp;&nbsp;The members in the child class that are used in the foreign key|
*referencedTableName_*|
&nbsp;&nbsp;&nbsp;&nbsp;The referenced table's name (collection class).|
*referencedColumnNames_*|
&nbsp;&nbsp;&nbsp;&nbsp;The members in the parent class that are references in the foreign key|
*updateRule_*|
&nbsp;&nbsp;&nbsp;&nbsp;What should happen when a foreign key is updated that is being referenced.|
*deleteRule_*|
&nbsp;&nbsp;&nbsp;&nbsp;What should happen when a foreign key is deleted that is being referenced.|





Copyright :copyright: 2015 | Page generated by [Ddoc](http://dlang.org/ddoc.html) on Wed Oct  7 18:16:46 2015

