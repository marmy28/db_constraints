# db_constraints.utils.nullable

[](Generated by Ddoc from source/db_constraints/utils/nullable.d)

This is basically std.typecons.Nullable with extra features.
This module contains:
  + [isNullable](#isNullable)
  + [Nullable](#Nullable)

**License:**
[Boost License 1.0](http://boost.org/LICENSE_1_0.txt).

**Authors:**
[Andrei Alexandrescu](http://erdani.org),
           [Bartosz Milewski](http://bartoszmilewski.wordpress.com),
           Don Clugston,
           Shin Fujishiro,
           Kenji Hara,
           Matthew Armbruster


**Source:** [source/db_constraints/utils/nullable.d](https://github.com/marmy28/db_constraints/tree/master/source/db_constraints/utils/nullable.d)

***

```d
enum isNullable(T, I);

```

<a id="isNullable"></a>
Checks if you can assign the value to a `Nullable!T`


***

```d
struct Nullable(T);

```

<a id="Nullable"></a>
Defines a value paired with a distinctive "null" state that denotes
the absence of a value. If default constructed, a `Nullable!T` object starts in the null state. Assigning it renders it
non-null. Calling `nullify` can nullify it again.
Practically `Nullable!T` stores a `T` and a `bool`.

**See Also:**
[http://dlang.org/phobos/std_typecons.html#.Nullable](http://dlang.org/phobos/std_typecons.html#.Nullable)

**Examples:**


```d

struct CustomerRecord
{
    string name;
    string address;
    int customerNum;
}

Nullable!CustomerRecord getByName(string name)
{
    //A bunch of hairy stuff

    return Nullable!CustomerRecord.init;
}

auto queryResult = getByName("Doe, John");
if (!queryResult.isNull)
{
    //Process Mr. Doe's customer record
    auto address = queryResult.address;
    auto customerNum = queryResult.customerNum;

    //Do some things with this customer's info
}
else
{
    //Add the customer to the database
}

```

***

```d
inout this(inout T value);

```

Constructor initializing `this` with `value`.

Parameters |
---|
*T value*|
&nbsp;&nbsp;&nbsp;&nbsp;The value to initialize this `Nullable` with|



***

```d
const pure nothrow @nogc @property @safe bool isNull();

```

Check if `this` is in the null state.

**Returns:**
true **iff** `this` is in the null state, otherwise false.

**Examples:**


```d

Nullable!int ni;
assert(ni.isNull);

ni = 0;
assert(!ni.isNull);

```


***

```d
void opAssign()(T value);

```

Assigns `value` to the internally-held state. If the assignment
succeeds, `this` becomes non-null.

Parameters |
---|
*T value*|
&nbsp;&nbsp;&nbsp;&nbsp;A value of type `T` to assign to this `Nullable`|



***

```d
pure nothrow @nogc @safe void nullify()();

pure nothrow @nogc @safe void opAssign(N : typeof(null))(N n);

```

Forces `this` to the null state.

**Examples:**


```d

Nullable!int ni = 0;
assert(!ni.isNull);

ni.nullify();
assert(ni.isNull);

```


***

```d
inout pure nothrow @property ref @safe inout(T) get();

```

Gets the value. `this` must not be in the null state.
This function is also called for the implicit conversion to `T`.

**Returns:**
The value held internally by this `Nullable`.
**Precondition:** 
```d
assert(!isNull);
```


***

```d
inout ref inout(T) getValueOr(lazy inout T defVal);

```

Gets the value or the default value passed in.

**Returns:**
The value held internally by this `Nullable` or the extra value passed in.

**Examples:**


```d

import std.exception: assertThrown, assertNotThrown;

Nullable!int ni;
//`get` is implicitly called. Will throw
//an AssertError in non-release mode
assertThrown!Throwable(ni += 1);

ni = 0;
assertNotThrown!Throwable(ni += 1);

```






Copyright :copyright: Copyright the respective authors, 2008-
 | Page generated by [Ddoc](http://dlang.org/ddoc.html) on Thu Oct  8 21:39:57 2015

